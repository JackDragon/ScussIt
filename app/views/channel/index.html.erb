<!-- Javascript -->
<script type="text/javascript">

$(document).ready(function (){
  new get_messages(<% @channel.id %>);
});

function get_messages(cid) {
  var messages = $.ajax({
    dataType: "json",
    type: "GET",
    // channel_id should be dynamic
    url: "/channel/" + cid + "/messages.json",
    async: false
  }).success(function(){
      setTimeout(function(){get_messages(cid);}, 10000);
  }).responseText;
  $('#p1').html(messages);
}

</script>

<!-- HTML -->
<div class="container">
	<div class="panel panel-default">
		<div class="panel-body">
			<p id="#p1">
				All the messages will be displayed here...
			</p>
		</div>
	</div>
	<form class="form-inline" role="form">
	  <div class="form-group">
	    <input type="message" class="form-control" placeholder="Enter your message here...">
	  </div>
	  <button type="submit" id="#b1" class="btn btn-primary">Send</button>
	</form>
</div>


<!--
Returns the latest MAX_MESSAGE_NUMBER messages.
{“messages”: [
	{“user”:”username1”, “time”:”datetime”, “message”: “messageandstuffhere”},
	{“user”:”username2”, “time”:”datetime”, “message”: “messageandstuffhere”},
	{“user”:”username3”, “time”:”datetime”, “message”: “messageandstuffhere”},
	{“user”:”username4”, “time”:”datetime”, “message”: “messageandstuffhere”},
	{“user”:”username5”, “time”:”datetime”, “message”: “messageandstuffhere”},
]}
-->


